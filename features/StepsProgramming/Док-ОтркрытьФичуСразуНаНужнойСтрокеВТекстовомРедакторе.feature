# language: ru

@IgnoreOnCIMainBuild
@DocumentationBuild
@tree

Функционал: Открытие фича файла сразу на нужной строке текстового редактора

Контекст:
	Дано Я открываю Vanessa-Behavior в TestClient без загрузки сохраненных настроек 
	И В открытой форме я перехожу к закладке с заголовком "Библиотеки"
	Если поле с именем "ВерсияПоставки" имеет значение "standart" тогда
		И В открытой форме я нажимаю на кнопку с именем "КаталогиБиблиотекДобавить"
		И я добавляю в библиотеки строку с стандартной библиотекой "Libraries"
	И я перехожу к закладке "Запуск сценариев"	

Сценарий: Открытие в Visual Stuidio Code
		
	#[autodoc.groupsteps]
	Загрузим фичу в Vanessa-Automation
			Когда Я нажимаю на кнопку Загрузить одну фичу
			Тогда в открывшемся окне я указываю путь к фиче "Core\ExpectedSomething\ExpectedForms.feature"
			
	#[autodoc.ignorestep]
	И у элемента "Сценарии загружены" я жду значения "Да" в течение 50 секунд
	
	#[autodoc.groupsteps]
	Заполним настройку, чтобы фича открывалась в Visual Stuidio Code
		И я выполняю скрипт SikuliX "GoToTabService"
		И Пауза 1
		И я активизирую поле с именем "КомандаОткрытияФичиВТекстовомРедакторе"
		И Пауза 1
		И я выполняю скрипт SikuliX "ContextMenu"
		И Пауза 1
		И я выполняю скрипт SikuliX "ClickContextMenuVisualStudioCode"
		И Пауза 1
		
	#[autodoc.groupsteps]
	Теперь откроем фичу в текстовом редакторе сразу на нужной строке
		И я выполняю скрипт SikuliX "GoToTabScenarioRun"
		И Пауза 1
		И в таблице "ДеревоТестов" я перехожу к строке:
			| 'Наименование'                                                         |
			| 'Затем Я запоминаю значение выражения "1" в переменную "ПроверкаОкна"' |
		И Пауза 1
		И я выполняю скрипт SikuliX "ContextMenu"
		И Пауза 1
		И я выполняю скрипт SikuliX "ClickContextMenuOpenFeatureInTextEditor"
		И Пауза 10
		И я выполняю скрипт SikuliX "WaitForFeatureLoadInEditor"
		И Пауза 2
		
	И обратите внимание "И мы видим, что фича файл был открыт на нужной строке."
	И обратите внимание "Спасибо за внимание!"
	
	#[autodoc.ignorestep]	
	И я выполняю скрипт SikuliX "DoAltF4"

		
		
	

	
	